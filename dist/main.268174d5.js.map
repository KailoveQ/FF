{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","urlDemo","replace","forEach","node","$li","insertBefore","render","remove","index","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","string","stringify","setItem","document","key","i","length","toLowerCase"],"mappings":"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","file":"main.268174d5.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList')\nconst $lastLi= $siteList.find('li.last')\nconst x = localStorage.getItem('x')\nconst xObject =JSON.parse(x)\nconst hashMap =xObject || [\n    {logo:'A', url :'https://www.acfun.cn'},\n    {logo:'B',  url :'https://www.bilibili.com'}\n]\nconst urlDemo =(url) =>{\n    return url.replace('https://', '')\n    .replace( 'http://', '')\n    .replace( 'www.', '')\n    .replace(/\\/.*/,'')  //删除 / 开头的内容\n}\n//创建渲染\nhashMap.forEach(node=>{\n    const $li = $(`<li>\n     <a href=\"${node.url}\">\n            <div class=\"site\">\n            <div class=\"logo\">${node.logo[0]}</div>\n            <div class=\"link\">${node.url}</div>\n            </div>\n        </a>\n    </li>`).insertBefore($lastLi)\n})\nconst render = ()=>{\n    //渲染哈希之前需把之前的给清空了\n    $siteList.find('li:not(.last)').remove() \n    hashMap.forEach((node,index)=>{\n        // console.log(index)    \n        const $li = $(`<li>\n                <div class=\"site\">\n                <div class=\"logo\">${node.logo[0]}</div>\n                <div class=\"link\">${urlDemo(node.url)}</div>\n                <div class=\"close\">\n                    <svg class=\"icon\">\n                        <use xlink:href=\"#icon-close\"></use>\n                    </svg>\n                </div>\n                </div>\n        </li>`).insertBefore($lastLi)\n        \n        $li.on('click',()=>{\n            window.open(node.url)\n        })\n        $li.on('click','.close',(e)=>{\n            // console.log('这里')\n            e.stopPropagation()\n            hashMap.splice(index, 1)\n            render()\n        })\n    })\n}\nrender()\n\n$('.addButton')\n.on('click',()=>{\n    let url = window.prompt('请问你要添加的网址是啥？')\n    if (url.indexOf('http') !== 0 ){\n        url = 'http://'+ url\n    }\n    //当你点击的时候我不在创造li了，我需要push一个到哈希map里\n    hashMap.push({\n        logo:urlDemo(url)[0].toUpperCase(),\n        url:url\n    })\n    //做完之后，需要吧上面的forEach重新执行一遍，但是你会发现，会重叠！！！\n    //所以需要哈希里面单独渲染，新增的这个站点\n    // $siteList.find('li:not(.last)').remove() //不要最后一个\n    // hasMap.forEach(node=>{\n    //     const $li = $(`<li>\n    //         <a href=\"${node.url}\">\n    //             <div class=\"site\">\n    //             <div class=\"logo\">${node.logo[0]}</div>\n    //             <div class=\"link\">${node.url}</div>\n    //             </div>\n    //         </a>\n    //     </li>`).insertBefore($lastLi)\n    // })\n    render()\n})\n\nwindow.onbeforeunload = ()=>{\n//console.log('页面要关闭了')\nconst string =JSON.stringify(hashMap)\n//console.log(typeof string)\n//变成字符串之后就可以存到 window.localStorage 里面\nlocalStorage.setItem('x',string)\n//意思就是在本地的存储里面设置一个x,里面存着的就是string\n\n}\n// 监听键盘按下事件\n$(document).on('keypress', (e) => {\n    const {key} = e\n    for (let i = 0; i < hashMap.length; i++) {\n      if (hashMap[i].logo.toLowerCase() === key) {\n        window.open(hashMap[i].url)\n        }   \n    }\n})"]}